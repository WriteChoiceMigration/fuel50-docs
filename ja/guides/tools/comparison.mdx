---
- title: Comparison
- description: コード、トレース、プロンプト、モデル、設定を視覚的に比較および差分表示
---

Weave Comparison機能を使用すると、コード、トレース、プロンプト、モデル、およびモデル構成を視覚的に比較および差分表示できます。2つのオブジェクトを並べて比較したり、より大きなオブジェクトのセットを分析して、違い、パターン、傾向を特定したりできます。

このガイドでは、比較を開始するための手順と、ベースライン比較、数値差分フォーマット、その他を含む比較ビューをカスタマイズするための利用可能なアクションについて説明します。

## 比較ビューへのアクセス

1. サイドバーで、比較したいオブジェクトのタイプを選択します（例：**Traces**、**Models**など）。
2. 比較したいオブジェクトを選択します。選択方法は比較するオブジェクトのタイプによって異なります：
   * **Traces**の場合、Tracesカラムの適切な行のチェックボックスをチェックして比較するトレースを選択します。
   * **Models**などのオブジェクトの場合、モデルのVersionsページに移動し、比較したいバージョンの横にあるチェックボックスをチェックします。
3. **Compare**をクリックして比較ビューを開きます。これで、[利用可能なアクション](#available-actions)を使用してビューを調整できます。

## 利用可能なアクション

比較ビューでは、比較されるオブジェクトの数に応じて複数のアクションが利用できます。[使用上の注意](#usage-notes)を確認してください。

* [差分表示の変更](#change-the-diff-display)
* [並べて表示](#display-side-by-side)
* [統合ビューで表示](#display-in-a-unified-view)
* [ベースラインの設定](#set-a-baseline)
* [ベースラインの削除](#remove-a-baseline)
* [比較順序の変更](#change-the-comparison-order)
* [数値差分表示形式の変更](#change-numeric-diff-display-format)
* [ベースラインまたは前のオブジェクトとの比較](#compare-with-baseline-or-previous)
* [複数オブジェクト比較からペアを比較](#compare-a-pair-from-a-multi-object-comparison)
* [比較からオブジェクトを削除](#remove-an-object-from-comparison)

### 差分表示の変更

デフォルトでは、**Diff only**はオフに設定されています。変更された行のみを表示するようにテーブル行をフィルタリングするには、**Diff only**をオンに切り替えます。

### 並べて表示

> このオプションは2つのオブジェクトを比較する場合、または[複数オブジェクト比較からのペア](#compare-a-pair-from-a-multi-object-comparison)を比較する場合にのみ利用できます。

各オブジェクトを別々の列で並べて比較するには、**Side-by-side**を選択します。

![Side-by-side Comparison view of two objects](imgs/comparison-2objs-sidebyside.png)

### 統合ビューで表示

> このオプションは2つのオブジェクトを比較する場合、または[複数オブジェクト比較からのペア](#compare-a-pair-from-a-multi-object-comparison)を比較する場合にのみ利用できます。

各オブジェクトを統合ビューで比較するには、**Unified**を選択します。

![Unified Comparison view of two objects](imgs/comparison-2objs-unified.png)

### ベースラインの設定

デフォルトでは、比較ビュー内の各オブジェクトはその左側のオブジェクトと比較されます。ただし、オブジェクトを*ベースライン*として設定することができ、これによりすべてのオブジェクトがビューの最も左側のオブジェクトと比較されます。
オブジェクトをベースラインとして設定するには、次の手順に従います：

1. 比較ビューのトップバーで、ベースラインとして設定したいオブジェクトにマウスを合わせます。
2. IDの右側にある3つのドットをクリックします。

   ![Make baseline option displayed.](imgs/comparison-2objs-baseline.png)
3. ドロップダウンで、**Make baseline**を選択します。UIが更新され、ベースラインオブジェクトがトップバーの最も左に配置され、`Baseline`がIDの横に表示されます。

   ![Baseline set.](imgs/comparison-2objs-baseline-set.png)

### ベースラインの削除

オブジェクトをベースラインから削除するには、次の手順に従います：

1. 比較ビューのトップバーで、ベースラインオブジェクトにマウスを合わせます。
2. IDの右側にある3つのドットをクリックします。
3. ドロップダウンで、**Remove baseline**を選択します。これで、`Baseline`がコールIDの横に表示されなくなります。

### 比較順序の変更

比較順序を変更するには、次の手順に従います：

1. 比較ビューのトップバーで、並べ替えたいIDにマウスを合わせます。
2. IDの左側にある6つのドットをクリックします。

   ![Setting the order.](imgs/comparison-2objs-reorder.png)
3. 選択されたオブジェクトに応じて、IDを左または右にドラッグします。
4. IDを希望の順序に配置します。UIが更新され、比較順序が更新されます。

### 数値差分表示形式の変更

`completion_tokens`や`total_tokens`などの数値については、差分を整数またはパーセンテージとして表示できます。さらに、正の数値は乗数として表示することもできます。数値差分の表示形式を変更するには、次の手順に従います：

1. 比較テーブルで、差分表示形式を更新したい数値を見つけます。

   ![A numeric value displayed as an integer.](imgs/comparison-2objs-numericdiffformat.png)
2. 差分値をクリックします。形式が自動的に整数またはパーセンテージに更新されます。

   ![A numeric value updated to a percentage.](imgs/comparison-2objs-numericdiffformat-updated.png)

### ベースラインまたは前のオブジェクトとの比較

> このオプションは3つ以上のオブジェクトを比較する場合にのみ利用できます。
> また、[設定](#set-a-baseline)または[IDの右側にある3つのドットをクリックして既存のベースラインを削除](#remove-a-baseline)することもできます。

3つ以上のオブジェクトでベースライン比較を実行するには、次の手順に従います：

1. 比較ビューの右上隅にあるドロップダウンをクリックします。現在のビュー構成に応じて、ドロップダウンのタイトルは**Compare with previous**または**Compare with baseline**のいずれかになります。
2. 現在のビュー構成に応じて、**Compare with previous**または**Compare with baseline**のいずれかを選択します。
   * **Compare with baseline**：最も左のオブジェクトをベースラインとして設定します。テーブルが更新され、最も左の列がベースラインになります。
   * **Compare with previous**：オブジェクトはベースラインとして設定されません。

### 複数オブジェクト比較からペアを比較

> このオプションは3つ以上のオブジェクトを比較する場合にのみ利用できます。

3つ以上のオブジェクトを比較する場合、単一のオブジェクトを前のオブジェクトまたはベースラインと比較できます。これにより、比較テーブルビューが変更され、2つのオブジェクト比較と同じビューになります。複数オブジェクト比較からオブジェクトのペアを比較するには、次の手順に従います：

1. 比較ビューのトップバーで、前のオブジェクトまたはベースラインと比較したいIDを見つけます。
2. 項目を選択するには、IDをクリックします。UIが更新され、2方向の比較テーブルが表示されます。

   ![Comparing a pair from a multi-object comparison.](imgs/comparsion-7objs-diffonly-subset.png)

比較用に選択された最初の6つのオブジェクトがテーブルに表示されるようにビューをリセットするには、IDを再度クリックします。

### 比較からオブジェクトを削除

> このオプションは3つ以上のオブジェクトを比較する場合にのみ利用可能です。

比較からオブジェクトを削除するには、以下の手順に従ってください：

1. 比較ビューのトップバーで、比較から削除したいオブジェクトを見つけます。
2. IDの右側にある三点リーダーをクリックします。
3. ドロップダウンから選択します**Remove object from comparison**。UIが更新され、削除されたオブジェクトが含まれなくなったテーブルが表示されます。

## 使用上の注意

* 比較機能はUIでのみ利用可能です。
* 好きな数のオブジェクトを比較できます。ただし、UIには最大6つまでしか表示されません。6つ以上のオブジェクトを比較する際に表示されていないオブジェクトを比較テーブルで表示するには、[change the comparison order](#change-the-comparison-order)を使用してオブジェクトが左から右へ最初の6つのオブジェクトの1つになるようにするか、[pair from a multi-object comparison](#compare-a-pair-from-a-multi-object-comparison)で簡単に表示できるようにします。
